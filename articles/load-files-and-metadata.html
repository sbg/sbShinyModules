<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Utility Function get_all_project_files(): Integration and Examples • sbShinyModules</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Utility Function get_all_project_files(): Integration and Examples">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sbShinyModules</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/file-pickers.html">File Picker Module: Integration and Examples</a></li>
    <li><a class="dropdown-item" href="../articles/generic-file-exporter.html">Generic File Exporter Module: Integration and Examples</a></li>
    <li><a class="dropdown-item" href="../articles/load-files-and-metadata.html">Utility Function get_all_project_files(): Integration and Examples</a></li>
    <li><a class="dropdown-item" href="../articles/plot-exporter.html">Plot Exporter Module: Integration and Examples</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Utility Function get_all_project_files(): Integration and Examples</h1>
            
            <h4 data-toc-skip class="date">2024-10-22</h4>
      

      <div class="d-none name"><code>load-files-and-metadata.Rmd</code></div>
    </div>

    
    
<p>The get_all_project_files() function provides an efficient way to
retrieve detailed information about all files within a specified
directory on the Seven Bridges File System (SBFS). This utility function
is ideal for preparing data frames that can be integrated with the File
Picker Module, enhancing file selection and management in Shiny
applications.</p>
<div class="section level2">
<h2 id="function-overview">Function Overview<a class="anchor" aria-label="anchor" href="#function-overview"></a>
</h2>
<p>This function fetches all files from a given directory path
recursively, including their metadata if available. It constructs a
comprehensive data frame containing file names, paths, sizes, and
associated metadata, making it ready for use with the file picker
module.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><p><strong>path</strong>: The path to the project-files directory.
This is a required parameter specifying the location from which to
retrieve file information.</p></li>
<li><p><strong>…</strong>: Additional parameters passed to the
list.files() function. Options such as pattern and include.dirs can be
used to customize the file search.</p></li>
</ul>
<p>The function returns a comprehensive data frame containing
<strong>file names</strong>, <strong>paths</strong>,
<strong>sizes</strong>, and <strong>associated metadata</strong> (if
available), making it ready for use with the file picker module.</p>
</div>
<div class="section level2">
<h2 id="note-on-dependencies">Note on Dependencies<a class="anchor" aria-label="anchor" href="#note-on-dependencies"></a>
</h2>
<p>The <code><a href="../reference/get_all_project_files.html">get_all_project_files()</a></code> function depends on the <a href="https://github.com/hrbrmstr/xattrs" class="external-link">xattrs package</a>for extended
attribute support. This package is not installed automatically with
*<strong>sbShinyModules</strong>, so you will need to install
<strong>xattrs</strong> separately if you wish to use this function.</p>
<p>On Unix-based systems, you can install xattrs using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"hrbrmstr/xattrs"</span><span class="op">)</span></span></code></pre></div>
<p>If you encounter installation issues, it may be due to missing system
libraries. For instance, on Ubuntu Linux, you can resolve this by
installing the <code>libattr1-dev</code> library with:</p>
<pre><code>sudo apt-get update
sudo apt-get install libattr1-dev</code></pre>
<p>For macOS users, additional system libraries are typically not
required for xattrs, but ensure your system is up-to-date.</p>
<p>Please note that the <code><a href="../reference/get_all_project_files.html">get_all_project_files()</a></code> function is
<strong>not available on Windows systems</strong>. This is because it
depends on the xattrs package, which requires extended attribute
functions that are not supported on Windows.</p>
</div>
<div class="section level2">
<h2 id="integration-with-file-picker-module">Integration with File Picker Module<a class="anchor" aria-label="anchor" href="#integration-with-file-picker-module"></a>
</h2>
<p>The utility function for loading project files and their metadata
<code><a href="../reference/get_all_project_files.html">get_all_project_files()</a></code> is intended to be used when
developing Shiny apps within Data Studio, or to be deployed as on-demand
Shiny apps using Data Studio infrastructure.</p>
<details><summary>
Data Studio File Organization
</summary><p>Data Studio environments (RStudio or Jupyter) come equipped with the
Seven Bridges File System (SBFS) tool installed, allowing you to access
their project files right from the IDE/Data Studio. This means that
project files are mounted on the local file system and can be imported
into your analysis without any download or upload.</p>
<p>The mounted directory is called sbgenomics and contains these
subdirectories:<br>
- project-files<br>
- output-files - workspace</p>
<p>The <code>/project-files</code> subdirectory contains all your
project files (the project from which you started the application).</p>
<p>However, the <code>/output-files</code> subdirectory aims to “save”
the files you wish to write/export from your analysis/application into
your project; therefore, you would have “write” permissions here. The
files you store here will be exported to the project files once you stop
your analysis/application.</p>
<p>The <code>/workspace</code> subdirectory can serve as a working
directory where you can store temporary files produced during the app
execution, which you do not want to export. The content of this
subdirectory will be saved and available the next time the app is
initialized, but we strongly suggest not storing anything here.</p>
This means that you should assume the existence of
<code>/sbgenomics/project-files</code> directory which represents the
mounted directory on the reserved instance for running Data Studio
analysis (in our case - Shiny app). This directory contains all project
files that can be accessed and used within the app.
</details><p><br></p>
<p>The data frame produced by <strong>get_all_project_files()</strong>
can be directly used as an input for the <strong>files_df</strong>
parameter of the file picker module (check
<code><a href="../articles/file-pickers.html">vignette("file-pickers")</a></code> for more details). This
streamlines the process of populating the file picker with accurate and
up-to-date file information.</p>
<p>By utilizing get_all_project_files() function, you can efficiently
gather and prepare file information, enhancing the functionality of
Shiny applications that involve file management and selection.</p>
<p><strong>Note:</strong> To run this example, ensure that both the
<strong>sbShinyModules</strong> and <strong>xattrs</strong> packages are
installed. <strong>Please be aware that this will not work on Windows
systems.</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a mock directory on the sbgenomics/project-files path and populate it</span></span>
<span><span class="co"># with some test fles to test the get_all_project_files() function</span></span>
<span><span class="va">all_files_df</span> <span class="op">&lt;-</span> <span class="fu">sbShinyModules</span><span class="fu">::</span><span class="fu"><a href="../reference/get_all_project_files.html">get_all_project_files</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"/sbgenomics/project-files"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_files_df</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marko Trifunovic, Marija Gacic, Velsera.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
